<div class="form-container">
    <form #form="ngForm" (ngSubmit)="onSubmit()" [formGroup]="formGroup">
        <div class="button-bar">
            <mat-icon style="cursor: pointer;" (click)="onShowEmojiMartClick()"
                matSuffix>sentiment_very_satisfied</mat-icon>
            <mat-icon style="cursor: pointer;" (click)="onLinkClick()" matSuffix>link</mat-icon>
        </div>
        <mat-form-field subscriptSizing="dynamic" appearance="outline" class="textarea-container">
            <textarea style="overflow-y: hidden" matInput formControlName="body" [placeholder]="'Message'"
                maxlength="200">
            </textarea>
            <mat-hint align="end">{{formGroup.value?.body.length || 0}}/200</mat-hint>
        </mat-form-field>
        <div *ngIf="linkInputVisible">
            <mat-form-field subscriptSizing="dynamic" appearance="outline" style="width: 100%;">
                <mat-label>Link</mat-label>
                <input (keyup.enter)="form.onSubmit($event)" matInput formControlName="mediaUrl" [placeholder]="'Link'">
            </mat-form-field>
        </div>
        <button type="submit" [disabled]="!isFormValid()" mat-raised-button color="primary">Send</button>
    </form>
    <emoji-mart #emojiMart *ngIf="emojiMartVisible" title="Pick your emojiâ€¦" (emojiSelect)="addEmoji($event)"
        [hideObsolete]="true" [isNative]="true">
    </emoji-mart>
</div>